<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Northern Virginia School Pyramids – Townhome & Detached Values (May 2025)</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    html,body,#map{height:100%;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif}
    :root{
      --brand-black:#000000;
      --brand-gold:#b8954e;
      --brand-white:#FFFFFF;
      --magnet-cyan:#6dcad2; /* also for #1 stars */
    }
    .leaflet-container{background:var(--brand-white)}
    .leaflet-popup-content{font-size:.85rem;line-height:1.2;color:var(--brand-black)}
    .leaflet-popup-content-wrapper{background:#d9fffc;}
    .leaflet-popup-tip{background:#d9fffc;}

    /* Circle markers */
    .gold-marker-icon,.cyan-marker-icon{border:2px solid var(--brand-black);border-radius:50%;width:18px;height:18px}
    .gold-marker-icon{background:var(--brand-gold)}
    .cyan-marker-icon{background:var(--magnet-cyan)}

    /* Star markers for #1 schools – cyan */
    .star-marker-icon{color:var(--magnet-cyan);font-size:38px;line-height:38px;width:38px;height:38px;text-align:center;-webkit-text-stroke:2px var(--brand-black);text-shadow:0 0 2px var(--brand-black)}
  </style>
</head>
<body>
  <div id="map"></div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
  const coords = schools.map(s => s.c);            // collect all marker coords
  const bounds = L.latLngBounds(coords);           // build bounding box
  const map  = L.map('map', { zoomControl: true }) // create map *after* bounds calc
                 .fitBounds(bounds, {            // auto-zoom to show everything
                   padding:  [40, 40]            // 40-px cushion inside the frame
                 });
    
    L.tileLayer('https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}',{maxZoom:20,subdomains:['mt0','mt1','mt2','mt3']}).addTo(map);

    const GoldIcon=L.divIcon({className:'gold-marker-icon',iconSize:[18,18],popupAnchor:[0,-6]});
    const CyanIcon=L.divIcon({className:'cyan-marker-icon',iconSize:[18,18],popupAnchor:[0,-6]});
    const StarIcon=L.divIcon({className:'star-marker-icon',html:'★',iconSize:[38,38],popupAnchor:[0,-14]});

    const schools=[
      {name:'Langley HS (Fairfax)<br>$1.695 M | +6.0%',coords:[38.959,-77.183],topRank:true},
      {name:'McLean HS (Fairfax)<br>$1.664 M | +6.3%',coords:[38.938,-77.177]},
      {name:'Madison HS (Fairfax)<br>$1.125 M | +5.3%',coords:[38.893,-77.266]},
      {name:'Oakton HS (Fairfax)<br>$1.092 M | +3.4%',coords:[38.878,-77.289]},
      {name:'Robinson SS (Fairfax)<br>$859 K | +3.5%',coords:[38.817,-77.308]},
      {name:'West Springfield HS (Fairfax)<br>$721 K | +2.2%',coords:[38.779,-77.238]},
      {name:'NEW Fairfax STEM Magnet HS (Herndon)<br>Projected Magnet',coords:[38.935,-77.399],magnet:true},

      {name:'Riverside HS (Loudoun)<br>$828 K | +3.4%',coords:[39.112,-77.514],topRank:true},
      {name:'Loudoun Valley HS<br>$886 K | +5.4%',coords:[39.134,-77.712]},
      {name:'Stone Bridge HS<br>$761 K | +3.1%',coords:[39.03,-77.504]},
      {name:'Briar Woods HS<br>$899 K | +3.0%',coords:[38.994,-77.521]},
      {name:'Potomac Falls HS<br>$750 K | +3.5%',coords:[39.065,-77.361]},

      {name:'Colgan HS (PWC)<br>$742 K | +3.8%',coords:[38.642,-77.455],topRank:true},
      {name:'Patriot HS (PWC)<br>$765 K | +4.2%',coords:[38.667,-77.581]},
      {name:'Gainesville HS (PWC)<br>$756 K | +4.2%',coords:[38.793,-77.609]},
      {name:'Brentsville District HS<br>$740 K | +3.8%',coords:[38.707,-77.533]},
      {name:'Battlefield HS<br>$835 K | +4.2%',coords:[38.812,-77.647]},

      {name:'Yorktown HS (Arlington)<br>$1.399 M | +4.7%',coords:[38.898,-77.146],topRank:true},
      {name:'Washington–Liberty HS<br>$709 K | +1.7%',coords:[38.889,-77.107]},
      {name:'Wakefield HS<br>$635 K | +1.5%',coords:[38.853,-77.111]},

      {name:'Alexandria City HS<br>$1.037 M | +3.1%',coords:[38.82,-77.086]},
      {name:'Meridian HS (Falls Church)<br>$1.051 M | +6.0%',coords:[38.884,-77.181]}
    ];

    schools.forEach(s=>{
      const icon=s.magnet?CyanIcon:(s.topRank?StarIcon:GoldIcon);
      L.marker(s.coords,{icon}).addTo(map).bindPopup(s.name);
    });
  </script>
</body>
</html>
